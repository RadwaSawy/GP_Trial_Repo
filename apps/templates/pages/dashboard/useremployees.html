{% extends 'layouts/base.html' %}

{% block content %}
<div class="accordion accordion-flush" id="accordionFlushExample">
  <div class="accordion-item mb-4">
    <h2 class="accordion-header" id="flush-headingTwo">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
        <h2 class="h5">Add Employee</h2>
      </button>
    </h2>
    <div id="flush-collapseTwo" class="accordion-collapse collapse" aria-labelledby="flush-headingTwo"
      data-bs-parent="#accordionFlushExample">
      <div class="accordion-body">
        <div class="card card-body border-0 shadow mb-4">
          <form method="POST">
            <input type="hidden" name="Employee_form" value="1">
            <div class="row">
              <div class="col-md-6 mb-3">
                <div>
                  <label for="name">Name</label>
                  <input class="form-control" name="name" id="name" type="text" placeholder="Enter your name"
                    required>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="gender">Gender</label>
                <select class="form-select mb-0" name="gender" id="gender" aria-label="Gender select example">
                  <option selected>Gender</option>
                  <option value="1">Female</option>
                  <option value="2">Male</option>
                </select>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mb-3">
                <div class="form-group">
                  <label for="id">ID</label>
                  <input class="form-control" name="id" id="id" type="number" placeholder="202018018" required>
                </div>
              </div>
              <div class="col-md-6 mb-3">
                <label for="location">Location</label>
                <select class="form-select mb-0" name="location" id="empolyee_location"
                  aria-label="Location select example">
                  {% for location in emp_locations %}
                  <option value="{{ location.id }}">{{ location.name }}</option>
                  {% endfor %}
                </select>
              </div>
            </div>
            <div class="mt-3">
              <button class="btn btn-gray-800 mt-2 animate-up-2" type="submit">Save Member</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="container-fluid py-4">
  <h3>Employee List</h3>
  <table class="table">
    <thead>
      <tr>
        <th>Employee Name</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for employee in employees %}
      <tr>
        <td>{{ employee.name }}</td>
        <td>
          <div class="d-flex">
            <form method="GET" action="{{ url_for('edit_user_employees', id=employee.id) }}">
              <input type="hidden" name="employee_id" value="{{ employee.id }}">
              <button type="submit" class="btn btn-primary">Edit</button>
            </form>
            <span style="margin: 10px;"></span>
            <form method="POST" action="{{ url_for('delete_user_employees') }}">
              <input type="hidden" name="employee_id" value="{{ employee.id }}">
              <button type="submit" class="btn btn-danger">Delete</button>
            </form>
          </div>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock content %}
